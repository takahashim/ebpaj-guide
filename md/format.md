# 書式一覧

## ■形式段落

#### 【備考】

すべての形式段落を `<p></p>` で囲むこととします
（スタイルシートで `<p>` の margin と padding は 0 にしてあります）。

#### 【HTML elements】

```
<p></p> ： 形式段落
```

```
---------------------------------[sample code]---------------------------------
<p>テキスト</p>
<p>テキスト</p>
-------------------------------------------------------------------------------
```

## ■改行、空白行

#### 【備考】

空白行には、原則 `<p><br/></p>` を用います。

#### 【HTML elements】

```
<p><br/></p> ： 空白行
```

例）１行アキ

```
---------------------------------[sample code]---------------------------------
<p>テキスト</p>
<p><br/></p>
<p>テキスト</p>
-------------------------------------------------------------------------------
```

## ■縦中横

#### 【備考】

縦中横の指定内部での上付・下付、文字装飾などの指定は想定しません。要画像化。
書体などの文字装飾を指定するときは、縦中横指定を外側から囲む形で指定してください。

#### 【CSS class】

```
class="tcy" ： 1.3 桁まで。4 桁以上は画像化（挿入方法等は外字画像の項参照）
```

例）2 桁の縦中横

```
---------------------------------[sample code]---------------------------------
<span class="tcy">99</span>
-------------------------------------------------------------------------------
```

## ■縦組み時の文字の向き

#### 【CSS class】

```
class="sideways"  ： 横転
class="upright"   ： 直立（全角）
class="upright-1" ： 直立（半角）※センターが揃わないため、別指定
```


例）横転

```
---------------------------------[sample code]---------------------------------
10 <span class="sideways">.</span> 20
-------------------------------------------------------------------------------
```

例）直立（全角）

```
---------------------------------[sample code]---------------------------------
「<span class="upright">.</span>」（マイナス記号）
-------------------------------------------------------------------------------
```

例）直立（半角）


```
---------------------------------[sample code]---------------------------------
この<span class="upright-1">.</span>はフランス語で使われる文字
-------------------------------------------------------------------------------
```

## ■ルビ

#### 【HTML elements】

```
<ruby>親文字<rt>ルビ文字列</rt></ruby>
```

例）グループルビ

```
---------------------------------[sample code]---------------------------------
<ruby>紫陽花<rt>あじさい</rt></ruby>
-------------------------------------------------------------------------------
```

例）モノルビ

```
---------------------------------[sample code]---------------------------------
<ruby>月<rt>つき</rt></ruby>
-------------------------------------------------------------------------------
```

例）熟語ルビ
```
---------------------------------[sample code]---------------------------------
<ruby>太<rt>たい</rt>陽<rt>よう</rt></ruby>
-------------------------------------------------------------------------------
```

#### 【備考】

・長すぎるグループルビは分割

ルビが１行より長い場合、RS によってはテキストが欠けたり、ルビが次行ではなくその行の中で折り返したりすることがあります。
文章のルビで外国語の読みや意味を表現したりする場合には、その長さに注意してください。
またグループルビを指定した単語は、RS によっては分離禁止禁則の対象となってしまいます。
そのため、その単語が次行に送られてしまい、前行にはそのぶんアキができるか、または `<body>` に指定してある両端揃え指定のせいで、行内の全文字間が均等に空いてしまいます。
グループルビのルビ文字列（`<rt>.</rt>`）が長すぎる場合は、画面で確認しながら適度なところでルビを分割し、初校納品時に連絡事項に残しておいてください。
特に指示がない場合、長さや分割位置の判断は制作担当者に委ねます。少しくらいなら、前行の字間があいたり、アキができるのは構わないこととします。

例）長すぎるルビ

```
---------------------------------[sample code]---------------------------------
<ruby>未<span class="kunten">四</span>曾有<span class="kunten">三</span>一事不<span class="kunten">レ</span>被<span class="kunten">二</span>無常呑<span class="kunten">一</span><rt>いまだかつていちじのむじようにのまれざるはあらず</rt></ruby>
-------------------------------------------------------------------------------
↓
---------------------------------[sample code]---------------------------------
<ruby>未<span class="kunten">四</span>曾有<span class="kunten">三</span><rt>いまだかつて</rt></ruby><ruby>一事不<span class="kunten">レ</span>被<span class="kunten">二</span><rt>いちじのむじように</rt></ruby><ruby>無常呑<span class="kunten">一</span><rt>のまれざるはあらず</rt></ruby>
-------------------------------------------------------------------------------
```

## ■特殊な文字の指定

###・文字参照、数値参照

#### 【備考】

文字参照（文字実体参照）を用いる場合は、XML の仕様で許可された以下５つのみ可とします。
ただし「"」と「'」については、本文中では通常、参照を使わず単なるテキスト文字を利用します。
それ以外は数値参照（数値文字参照）を用いること（「&#x00A9;」等）。

```
& : &amp;
< : &lt;
> : &gt;
" : &quot;
' : &apos;
```


## ■文字装飾

### 【CSS class】

#### 書体

```
class="mfont" ： 明朝
class="gfont" ： ゴシック
```

#### 文字サイズ（※利用可能な値は CSS ファイルを要確認）

```
class="font-0em80"  ： 文字数（em）で指定 （この例では 0.8em を指定）
class="font-080per" ： 拡大・縮小率（%）で指定（この例では 80% を指定）
```

#### 太字

```
class="bold"               ： 太字
class="font-weight-normal" ： 太字解除
```

#### 斜体

```
class="italic"             ： 太字
class="font-style-normal"  ： 太字解除
```

例）書体

```
---------------------------------[sample code]---------------------------------
<span class="mfont">テキスト</span>
<span class="gfont">テキスト</span>
-------------------------------------------------------------------------------
```

例）文字サイズ

```
---------------------------------[sample code]---------------------------------
<span class="font-0em80">テキスト</span>
<span class="font-080per">テキスト</span>
-------------------------------------------------------------------------------
```

例）太字

```
---------------------------------[sample code]---------------------------------
<span class="bold">テキスト</span>
-------------------------------------------------------------------------------
```

例）斜体

```
---------------------------------[sample code]---------------------------------
<span class="italic">テキスト</span>
-------------------------------------------------------------------------------
```

例）複数行にまたがる場合の指定

```
---------------------------------[sample code]---------------------------------
<div class="gfont">
<p>テキスト</p>
<p>テキスト</p>
</div>
-------------------------------------------------------------------------------
```

## ■強調・打ち消し

### ・傍点

#### 【CSS class】

```
class="em-sesame"             ： ゴマ点
class="em-sesame-open"        ： ゴマ点（白抜き）
class="em-dot"                ： ドット
class="em-dot-open"           ： ドット（白抜き）
class="em-circle"             ： 円
class="em-circle-open"        ： 円（白抜き）
class="em-double-circle"      ： 二重円
class="em-double-circle-open" ： 二重円（白抜き）
class="em-triangle"           ： 三角
class="em-triangle-open"      ： 三角（白抜き）
```

例）ゴマ点

```
---------------------------------[sample code]---------------------------------
<span class="em-sesame">テキスト</span>
-------------------------------------------------------------------------------
```

### ・傍線

#### 【CSS class】

```
class="em-line"         ： 縦組み時は右線、横組み時は下線
class="em-line-outside" ： 縦組み時は左線、横組み時は上線
```

例）右線／下線

```
---------------------------------[sample code]---------------------------------
<span class="em-line">テキスト</span>
-------------------------------------------------------------------------------
```

### ・打ち消し線

#### 【備考】

二重線での打ち消しなどは、外字画像化。

#### 【CSS class】


```
class="line-through"    ： 打ち消し線（一本線）
```

例）

```
---------------------------------[sample code]---------------------------------
<span class="line-through">テキスト</span>
-------------------------------------------------------------------------------
```

## ■画像

#### 【備考】

`<img>` に class を指定します。
HTML5 の alt ルールに基づいた版元の指定などがないかぎり、「alt=""」は必ず入れておくようにします。

#### 【HTML elements】

```
<img src="../image/ファイル名" alt="代替テキスト">
```


### ・通常画像

例）インライン画像

```
---------------------------------[sample code]---------------------------------
この文章は<img src="../image/gaiji-001.png" alt=""/>サンプルです。
-------------------------------------------------------------------------------
```

### ・外字画像

#### 【備考】

* JIS X 0213:2004 の文字集合にない文字は外字画像化
* 字形のベースとするフォントなどは、各版元の指示に従う
* 背景を透明で作成し、8bit PNG で保存した透過 PNG を用いる
  ※読者が背景色を変更できる RS のことを考慮


#### 【CSS class】

```
class="gaiji"      ： 縦横１文字分の画像   （作成画像サイズ例：128px×128px）
class="gaiji-line" ： 幅が１文字分の縦長画像 （作成画像サイズ例：幅128px×高さナリユキ）
class="gaiji-wide" ： 高さが１文字分の横長画像（作成画像サイズ例：高さ128px×幅ナリユキ）
```

例）１文字サイズ

```
---------------------------------[sample code]---------------------------------
この文章は<img class="gaiji" src="../image/gaiji-001.png" alt=""/>サンプルです。
-------------------------------------------------------------------------------
```

例）幅が１行分の縦長画像

```
---------------------------------[sample code]---------------------------------
この文章は<img class="gaiji-line" src="../image/gaiji-001.png" alt=""/>サンプルです。
-------------------------------------------------------------------------------
```

例）高さが１文字分の横長画像

```
---------------------------------[sample code]---------------------------------
この文章は<img class="gaiji-wide" src="../image/gaiji-001.png" alt=""/>サンプルです。
-------------------------------------------------------------------------------
```


### ・画像のサイズ指定

#### 【備考】

サイズは文字数か、画面に対する比率で指定します。後述の「サイズ」の項も参照のこと。

インライン（行内）表示する画像のサイズは、基本的には文字数で指定してください。
指定できる文字数の詳細は CSS をご確認ください。 
また、大きな画像を「max-」なしで指定すると、画面からはみ出したり変形したりする場合があります。

#### 【CSS class】

```
height-*em       ： 画像の高さを、文字数で指定（例「height-2em50」……高さ 2.5 文字分）
height-***per    ： 画像の高さを、画面の高さに対する比率で指定
                   （例「height-010per」……高さ 10% 分）
max-height-*em   ： 画像の高さの最大値を、文字数で指定
max-height-***per： 画像の高さの最大値を、画面の高さに対する比率で指定

width-*em        ： 画像の幅を、文字数で指定
width-***per     ： 画像の幅を、画面の幅に対する比率で指定
max-width-*em    ： 画像の幅の最大値を、文字数で指定
max-width-***per ： 画像の幅の最大値を、画面の幅に対する比率で指定

max-size-*em     ： 画像の高さと幅の最大値を、文字数で指定
max-size-***per  ： 画像の高さと幅の最大値を、画面の高さと幅に対する比率で指定
```

※その他、auto、none、0 など、利用可能な値は後述の「■ボックスの扱い」→「サイズ」の項を参照 

例）画像を縮小して行内に表示

```
---------------------------------[sample code]---------------------------------
この文章は<img class="height-2em50" src="../image/gaiji-0001.png" alt=""/>サンプルです。
-------------------------------------------------------------------------------
```

### ・ページフィット画像

#### 【備考】

画面サイズにあわせて伸縮します。ただし画像が原寸サイズ以上に拡大されることはありません。
ページフィット画像のサイズ指定では「max-」のついた「%」での最大値指定をしてください。
文字数でのサイズ指定ではページフィットしません。

#### 【CSS class】

```
class="fit" ： 画像のページフィット指定
```

例）ページの高さか幅に 100% フィット

```
---------------------------------[sample code]---------------------------------
<p><img class="fit" src="../image/img-001.jpg" alt=""/></p>
-------------------------------------------------------------------------------
```

例）常にページの高さ 50% サイズで表示

```
---------------------------------[sample code]---------------------------------
<p><img class="fit max-height-050per" src="../image/img-001.jpg" alt=""/></p>
-------------------------------------------------------------------------------
```

例）常に 20em サイズで表示（ページフィットしない）

```
---------------------------------[sample code]---------------------------------
<p><img class="fit max-height-20em" src="../image/img-001.jpg" alt=""/></p>
-------------------------------------------------------------------------------
```

## ■見出し

#### 【備考】

特に指示がなければ、見出しのメインタイトル部分には以下の見出し要素を用い、
サブタイトルなど隣接する関連行には <p></p> を用いることとします。

見出しレベルの設定については、各版元の指示に従ってください。
指示がないときは、見出しレベルの設定は制作者に一任することとします。

書体やサイズ等の装飾指定では、見出し要素を <div> と同様のブロック要素として扱います。
ただし見出し要素の中では <div> や <p> は使えないので注意してください。
行揃えや字下げ、インデントの際は、見出し要素を <div> で囲みます。

#### 【HTML elements】

```
<h1>.<h6>
```

例）見出しテキストの装飾

```
---------------------------------[sample code]---------------------------------
<h1 class="gfont font-1em30">第一章</h1>
-------------------------------------------------------------------------------
```

例）見出しのぶら下がりインデント

```
---------------------------------[sample code]---------------------------------
<div class="h-indent-4em">
<h1>第一章 見出し</h1>
</div>
-------------------------------------------------------------------------------
```


### ・見出し用の空 class

#### 【備考】

CSS ファイルには、見出し専用に以下の空 class が用意されています。
書体やサイズなど、作品に応じてスタイルを設定することも可能です。
CSS ファイルのカスタマイズ方法は、後述の「デフォルト CSS ファイルについて」を参照してください。

#### 【CSS class】

```
class="mokuji-midashi"
class="tobira-midashi"
class="oo-midashi"
class="naka-midashi"
class="ko-midashi"
```

例）見出し用クラスを用いた指定

```
---------------------------------[sample code]---------------------------------
<h1 class="oo-midashi">第一章</h1>
-------------------------------------------------------------------------------
```


### ・見出し画像

#### 【備考】

見出しが画像化されているときは、単なるインライン画像、またはページフィット画像として扱います。
画像を見出し要素（<h1>.<h6>）で囲んでも構いません。
読み上げや検索への配慮として、画像内に記された見出しのテキストを alt に挿入してください。

例）見出し画像の基本形

```
---------------------------------[sample code]---------------------------------
<p><img class="fit" src="../image/img-001.jpg" alt="第一章"/></p>
-------------------------------------------------------------------------------
```


## ■インライン要素の位置揃え

### ・ベースラインの変更

#### 【備考】

縦組みでは、vertical-align の baseline が文字や画像の中央となるのが正しい仕様です。
「行の上辺・下辺」は RS により解釈が異なる可能性があるので注意してください。

#### 【CSS class】

```
class="valign-inherit"     ： 親要素の vertical-align を継承
class="valign-baseline"    ： 子要素のベースラインを、親要素のベースラインと揃えて表示
class="valign-middle"      ： 子要素の中央を、親要素の middle ベースラインに揃えて表示
class="valign-top"         ： 子要素の上辺を、行の上辺に揃えて表示
class="valign-bottom"      ： 子要素の下辺を、行の下辺に揃えて表示
class="valign-text-top"    ： 子要素の上辺を、親要素の文字の上辺に揃えて表示
class="valign-text-bottom" ： 子要素の下辺を、親要素の文字の下辺に揃えて表示
class="valign-sub"         ： 親要素の下付位置に表示
class="valign-super"       ： 親要素の上付位置に表示
```

例）文字の中央を、親要素の middle ベースライン（小文字「x」の中央の高さ）に揃えて表示

```
---------------------------------[sample code]---------------------------------
テキストx<span class="valign-middle">Ｘ</span>xテキスト
-------------------------------------------------------------------------------
```


### ・上付文字、下付文字

#### 【備考】

フォントサイズは「smaller」に設定されています。
※「class="valign-super"」「class="valign-sub"」は、文字サイズを変更しないので注意

#### 【CSS class】

```
class="super"
class="sub"
```

例）上付文字（欧文）

```
---------------------------------[sample code]---------------------------------
3<span class="super">2</span>
-------------------------------------------------------------------------------
```

例）上付文字（和文、全角文字）

```
---------------------------------[sample code]---------------------------------
Ｈ<span class="super">２</span>Ｏ
-------------------------------------------------------------------------------
```

例）下付文字（欧文）

```
---------------------------------[sample code]---------------------------------
H<span class="sub">2</span>O
-------------------------------------------------------------------------------
```

例）下付文字（和文、全角文字）

```
---------------------------------[sample code]---------------------------------
Ａ<span class="sub">Ｂ</span>Ｃ
-------------------------------------------------------------------------------
```


### ・訓点（返り点）

#### 【備考】

Unicode 文字にある小さな訓点用の文字を使うのではなく、通常サイズの文字に指定します。

#### 【CSS class】

```
class="kunten"
class="kunten-okuri"
```

例）レ点、一点等（縦組みのときは、行内の左側に小さく表示）

```
---------------------------------[sample code]---------------------------------
<span class="kunten">レ</span>
<span class="kunten">一</span>
-------------------------------------------------------------------------------
```

例）送り仮名（縦組みのときは、行内の右側に小さく表示）

```
---------------------------------[sample code]---------------------------------
先<span class="kunten-okuri">ンズレバ</span>即<span class="kunten-okuri">チ</span>
-------------------------------------------------------------------------------
```


### ・小書き文字

#### 【備考】

縦組み時の「vertical-align」の「text-top」の解釈が RS により異なるため、暫定的に、縦組み時の「vertical-align」を「super」に設定してあります。

#### 【CSS class】

```
class="kogaki"
```

例）

```
---------------------------------[sample code]---------------------------------
古池や蛙飛<span class="kogaki">ン</span>だる水の音
-------------------------------------------------------------------------------
```

## ■行揃え

#### 【備考】

整形に関する指示がないかぎり、<div> と </div> の直後では、それぞれ必ずソース上で改行するようにします。
行末が画面端に揃うよう、<body> の text-align を justify にしてあります。
ただ、画面サイズによっては、英単語などのあいだが大きく開いてみっともなく見える場合があります。
基本はママとしますが、もし後から指示があった場合は、その行を align-start にしてください。

#### 【CSS class】

```
class="align-start"   ： 行頭揃え（縦組みでは天ツキ、横組みでは左寄せ）
class="align-center"  ： 行中揃え
class="align-end"     ： 行末揃え（縦組みでは地ツキ、横組みでは右寄せ）
class="align-justify" ： 行頭揃え（行の下端が揃うよう文字間を自動調節）
```

例）行末揃え

```
---------------------------------[sample code]---------------------------------
<div class="align-end">
<p>テキスト</p>
<p>テキスト</p>
</div>
-------------------------------------------------------------------------------
```

例）ジャスティフィケーションの抑止（両端揃えを行頭揃えに変更）

```
---------------------------------[sample code]---------------------------------
<p>This is a pen.</p>
-------------------------------------------------------------------------------
 ↓
---------------------------------[sample code]---------------------------------
<div class="align-start">
<p>This is a pen.</p>
</div>
-------------------------------------------------------------------------------
```


## ■字下げ・インデント

### ・全角空白を用いた字下げ

#### 【備考】

６文字以上の字下げは、狭い画面での折り返しのことも考慮して、極力 start での指定に置き換えます。
なお、ページフィット画像（class="fit"）は、全角空白では字下げできません。

例）全角アキで４字下げ ※□……全角アキ

```
---------------------------------[sample code]---------------------------------
<h1>□□□□見出しテキスト</h1>
<p>□□□□テキスト</p>
<p>□□□□<img src="../image/img-001.jpg" alt=""/></p>
<p>□□□□<img class="height-3em" src="../image/img-001.jpg" alt=""/></p>
-------------------------------------------------------------------------------
```

### ・class 指定による字下げ

#### 【備考】

行頭からの字下げを行います。横組みのときは左から、縦組みのときは天から字下げされます。
原則として <div> の class に「start-*em」と字下げ数を指定します。
なお、CSS では margin を用いて位置を調整しているため、同じ要素内で余白の margin と同時に指定しないこと。

#### 【CSS class】

```
class="start-*em" （"start-0" も可）
```

例）行頭から一括で４字下げ

```
---------------------------------[sample code]---------------------------------
<div class="start-4em">
<h1>見出しテキスト</h1>
<p>テキスト</p>
<p><img class="height-3em" src="../image/img-001.jpg" alt=""/></p>
<p><img class="fit max-height-050per" src="../image/img-001.jpg" alt=""/></p>
</div>
-------------------------------------------------------------------------------
```

例）字下げの入れ子

```
---------------------------------[sample code]---------------------------------
<div class="start-4em">
<p>テキスト</p>
<div class="start-2em">    // 全体では６字下げになる
<p>テキスト</p>
</div>
</div>
-------------------------------------------------------------------------------
```


### ・字上げ

#### 【備考】

基本は字下げと同様です。行末からの字上げを行います。
横組みのときは右から、縦組みのときは地から字上げされます。
字下げ同様、同じ要素内で余白の margin と同時に指定しないこと。

#### 【CSS class】

```
class="end-*em" （"end-0" も可）
```

例）行末から４字上げ

```
---------------------------------[sample code]---------------------------------
<div class="end-4em">
<p>□いろはにほへと、ちりぬるを、わかよたれそ、つねならむ。うゐのおくやま、けふこえて、あさきゆめみし、ゑひもせす。</p>
</div>
-------------------------------------------------------------------------------
```


### ・行頭インデント

#### 【備考】

行頭からのインデントを行います。字下げとの違いは、行の先頭しか下がらないことです。
横組みのときは左から、縦組みのときは天から字下げされます。

#### 【CSS class】

```
class="indent-*em" ： 行頭からのインデントを文字数で指定 （"indent-0" も可）
```

例）一括行頭１字下げ

```
---------------------------------[sample code]---------------------------------
<div class="indent-1em">
<p>テキスト</p>
<p>テキスト</p>
</div>
-------------------------------------------------------------------------------
```


### ・突き出しインデント（ぶら下がりインデント）

#### 【備考】

画面端で行が折り返したとき、折り返した行の開始位置を指定します。
横組みのときは左から、縦組みのときは天から字下げされます。「h-」は「hanging-」の略。
ただし、横組みのときは文字の幅次第では正確に位置が揃わない可能性があります。
なお、CSS では indent のマイナス値と padding を用いて位置を調整しているため、同じ要素内で余白の padding と同時に指定しないこと。

#### 【CSS class】

```
class="h-indent-*em" ： 折り返した行の開始位置を、行頭からの文字数で指定（"h-indent-0" も可）
```

例）折り返した行を、１行目の３文字目と頭を揃えて表示

```
---------------------------------[sample code]---------------------------------
<div class="h-indent-2em">
<p>男：いろはにほへと、ちりぬるを、わかよたれそ、つねならむ。</p>
<p>女：うゐのおくやま、けふこえて、あさきゆめみし、ゑひもせす。</p>
</div>
-------------------------------------------------------------------------------
```

※折り返したとき以下のように表示

```
男：いろはにほへと、ちりぬるを、わか
  よたれそ、つねならむ。
女：うゐのおくやま、けふこえて、あさ
  きゆめみし、ゑひもせす。
```

例）字下げとの併用

```
---------------------------------[sample code]---------------------------------
<div class="start-2em">
<div class="h-indent-2em">
<p>男：いろはにほへと、ちりぬるを、わかよたれそ、つねならむ。</p>
</div>
</div>
-------------------------------------------------------------------------------
```

または

```
---------------------------------[sample code]---------------------------------
<div class="start-2em h-indent-2em">
<p>男：いろはにほへと、ちりぬるを、わかよたれそ、つねならむ。</p>
</div>
-------------------------------------------------------------------------------
```

例）余白（padding）との併用 ※インデントごと、さらに <div> で囲む

```
---------------------------------[sample code]---------------------------------
<div class="p-2em">
<div class="h-indent-2em">
<p>男：いろはにほへと、ちりぬるを、わかよたれそ、つねならむ。</p>
</div>
</div>
-------------------------------------------------------------------------------
```


## ■行や文字の間隔

### ・行高

#### 【備考】

初期設定は 1.75 です。margin 等で前後行との空白を調整する場合は、行高の値を考慮に入れてください。
文字サイズの変更により、行間も変わります。その際の適切な行間の判断は、指示がないかぎり制作者に一任します。
行間を変えるために、空白や改行の文字サイズを変更するような指定は、原則行わないこととします。

#### 【CSS class】

```
class="line-height-normal" ： 行高を RS のデフォルトに
class="line-height-*em"    ： 行高を文字数で指定
```

例）行高を本文（1.75）の倍に

```
---------------------------------[sample code]---------------------------------
<div class="line-height-3em50">
<p>□いろはにほへと、ちりぬるを、わかよたれそ、つねならむ。うゐのおくやま、けふこえて、あさきゆめみし、ゑひもせす。</p>
</div>
-------------------------------------------------------------------------------
```


### ・文字間

#### 【備考】

画像とテキストの間には反映されないことがあるため（代表的なモダンブラウザでは反映されません）、画像や外字画像を含むような箇所での利用は避けることを推奨します。

縦中横を含む文章に文字間の指定をすると、縦中横で結合されたはずの文字のあいだにまで指定が効くことがあります。CSS の仕様では、縦中横を含む文字列に文字間指定された際の挙動が定められていないため、このような状況での利用は、なるべく避けることを推奨します。
なお、この現象を避けるため、縦中横部分に文字間ゼロの指定をすると、今度は縦中横した文字とその下の文字の間での文字間の指定が反映されなくなる場合がありますので注意してください。


#### 【CSS class】

```
class="lspacing-normal" ： 文字間を RS のデフォルトに
class="lspacing-*em"    ： 文字間を 文字数で指定（"lspacing-0" も可）
```

例）４分アキに

```
---------------------------------[sample code]---------------------------------
<div class="lspacing-0em25">
<p>テキスト</p>
</div>
-------------------------------------------------------------------------------
```


### ・禁則処理のルール

#### 【備考】

現時点では、まだ禁則処理は RS ごとに異なっており、あまり制御できません。
対象 RS が「-epub-line-break」に対応しているか、ご確認の上ご利用ください。

#### 【CSS class】

```
class="line-break-auto"   ： 禁則を RS のデフォルトに
class="line-break-loose"  ： ゆるい禁則
class="line-break-normal" ： 標準の禁則
class="line-break-strict" ： 厳しい禁則
```

例）ゆるい禁則（ナカグロや三点リーダ、小書きカナなどを禁則しない）

```
---------------------------------[sample code]---------------------------------
<div class="line-break-loose">
<p>いろはにほへと・ちりぬるを・わかよたれそ・つねならむ・うゐのおくやま・けふこえて・あさきゆめみし・ゑひもせす</p>
<p>「うわああああああああああ……………………………………………………っ」</p>
</div>
-------------------------------------------------------------------------------
```


### ・自動改行のルール

#### 【備考】

行末折り返し時の自動改行の指定です。単語の長さは関係しません。
欧文文字の羅列などが禁則されると困るような場合に用います。

#### 【CSS class】

```
class="word-break-normal"    ： 標準のルールで自動改行
class="word-break-break-all" ： 任意の文字の間に自動改行（長い単語の途中でも行末で折り返し）
class="word-break-keep-all"  ： 単語の途中で自動改行しない（空白や句読点位置でのみ折り返し）
```

例）

```
---------------------------------[sample code]---------------------------------
<div class="word-break-break-all">
<p>ABCDEFGHIJKLM NOPQRSTUVWXYZ abcdefghijklm nopqrstuvwxyz</p>
</div>
-------------------------------------------------------------------------------
```

### ・長い単語の改行ルール

#### 【備考】

空白などのない長い欧文文字列は、行末で折り返されず、画面の外にはみ出してしまう場合があります。
そのような場合は「word-wrap-break-word」を用います。
なお、本ガイドのデフォルト CSS では、<body> に { word-wrap: break-word; } を指定してあります。

#### 【CSS class】

```
class="word-wrap-normal"     ： 標準の改行ルール
class="word-wrap-break-word" ： 長い単語のときは、単語中でも行末折り返し時に自動改行
```

例）

```
---------------------------------[sample code]---------------------------------
<div class="word-wrap-break-word">
<p>http://abcdefghijklmnopqrstuvwxyz.html</p>
</div>
-------------------------------------------------------------------------------
```


## ■区切り

### ・区切り線

#### 【HTML elements】

```
<hr/> ： 区切り線（横組み時は水平線、縦組み時は垂直線）
```

例）

```
---------------------------------[sample code]---------------------------------
<p>テキスト</p>
<hr/>
<p>テキスト</p>
-------------------------------------------------------------------------------
```


### ・区切り記号（通常文字として処理）

#### 【備考】

特に指示がなければ、字下げには全角空白を利用します。

例）

```
---------------------------------[sample code]---------------------------------
<p>テキスト</p>
<p>□□□□＊</p>
<p>テキスト</p>
-------------------------------------------------------------------------------
```


### ・区切り画像（通常画像として処理）

#### 【備考】

特に指示がなければ、画像は原寸で指定、字下げには全角空白を利用します。

例）

```
---------------------------------[sample code]---------------------------------
<p>テキスト</p>
<p>□□□□<img src="../image/img-001.jpg" alt=""/></p>
<p>テキスト</p>
-------------------------------------------------------------------------------
```


## ■リンク

### 【備考】

ジャンプ先の要素への id 指定を基本とします。

### ・他ファイル先頭へのリンク

#### 【HTML elements】

```
<a href="ジャンプ先のファイル名">リンク元</a>
```

例）「p-002.xhtml」の先頭位置へ

```
---------------------------------[sample code]---------------------------------
<a href="p-002.xhtml">他ファイルへのリンク</a>
-------------------------------------------------------------------------------
```


### ・ページ内へのリンク

#### 【HTML elements】

```
<a href="#id">リンク元</a> ： リンク指定側
<span id="id">ジャンプ先</span> ： ジャンプ先側（または <div> や <p>、<a>、<h1>.<h6> 等に指定）
```

例）「id="link-001"」の位置へ

```
---------------------------------[sample code]---------------------------------
<p><a href="#link-001">内容へのリンク</a></p>

<p id="link-001">内容の本文</p>         // 段落の先頭にジャンプ
<p>内容の本文<span id="link-001">リンク先</span>内容の本文</p> // 段落内の一部にジャンプ
-------------------------------------------------------------------------------
```


### ・他ファイル中の任意の場所へのリンク

#### 【HTML elements】

```
<a href="ジャンプ先のファイル名#id">リンク元</a> ： リンク指定側
<span id="id">ジャンプ先</span>      ： ジャンプ先側
（または <div> や <p>、<a>、<h1>.<h6> 等に指定）
```

例）「p-002.xhtml」内にある「id="toc-001"」の位置へ

```
---------------------------------[sample code]---------------------------------
<p><a href="p-002.xhtml#toc-001">見出しへのリンク</a></p>

<h1 id="toc-001">見出し</h1>
-------------------------------------------------------------------------------
```

### ・相互リンク

#### 【HTML elements】

```
<p><a id="link-001" href="ファイル名#link-002">リンク１</a></p> ： リンク１
（リンク２の位置へジャンプ）
 <p><a id="link-002" href="ファイル名#link-001">リンク２</a></p> ： リンク２
（リンク１の位置へジャンプ）
```


### ・注釈

#### 【備考】

指でタップする際の利便性などを考慮して、注釈記号だけでなく、注釈が指定された単語そのものにリンク指定するようにします。単語の範囲が注釈の受け側を見てもわからない場合は、適切と思われる範囲に指定してください。

#### 【CSS class】

```
class="noteref" ： 文字色は青、傍線つきがデフォルト
class="note"  ： 文字色は青、傍線つきがデフォルト
class="footnote"： 特に指定なし（「footnote」は「脚注」の意）
class="super"  ： 上付文字指定（「上付文字、下付文字」の項を参照）
※ここでは注釈記号用として利用
```

#### 【HTML elements】

```
<p><a class="noteref" id="noteref-001" href="ファイル名#note-001">項目<span class="super">＊</span></a></p>
： 注釈参照側 （注釈記号の部分は、class 含め、作品にあわせて自由に指定して構いません）

<p><a class="note" id="note-001" href="ファイル名#noteref-001">＊項目</a>□テキスト</p>
： 注釈内容側

<div class="footnote" id="note-001">
<p><a class="note" href="ファイル名#noteref-001">＊項目</a>□テキスト</p>
<p>□テキスト</p>
</div>
： 注釈内容側を <div> で指定したい場合の一例
```

例）

```
---------------------------------[sample code]---------------------------------
<p><a class="noteref" id="noteref-001" href="p-002.xhtml#note-001">蜘蛛の糸<span class="super">＊</span></a></p>

<p><a class="note" id="note-001" href="p-001.xhtml#noteref-001">＊蜘蛛の糸</a>□ドストエフスキイ「カラマゾフ兄弟」第七篇第三「一本の葱」に取材。</p>
-------------------------------------------------------------------------------
```

#### 【参考情報】

注釈を表す「epub:type」を挿入することで、RS がその情報を利用することも可能になります。
RS がどのような利用をするかは EPUB の仕様では定められておらず、その利用方法を指定することもできないため、事前に RS の挙動を確認し、版元とよくご相談の上ご利用ください。


## ■ボックスの扱い

### ・ボックスの種類

#### 【CSS class】

```
class="display-none"         : 要素を { display: none; } に指定
class="display-inline"       : 要素を { display: inline; } に指定
class="display-inline-block" : 要素を { display: inline-block; } に指定
class="display-block"        : 要素を { display: block; } に指定
```

例）テキストの一部を非表示に

```
---------------------------------[sample code]---------------------------------
<p>あいうえお<span class="display-none">かきくけこ</span>さしすせそ</p>
-------------------------------------------------------------------------------
```


### ・外側の余白（マージン）

#### 【CSS class】

```
class="m-*"
```

#### [値の詳細]

```
m-auto / m-0 / m-***per / m-*em ： 四方のマージンを指定（auto、ゼロ、％指定、文字数指定）

m-top-auto    / m-top-0    / m-top-***per    / m-top-*em    ： 画面上部のマージンを指定
m-bottom-auto / m-bottom-0 / m-bottom-***per / m-bottom-*em ： 画面下部のマージンを指定
m-right-auto  / m-right-0  / m-right-***per  / m-right-*em  ： 画面右部のマージンを指定
m-left-auto   / m-left-0   / m-left-***per   / m-left-*em   ： 画面左部のマージンを指定

m-start-auto  / m-start-0  / m-start-***per  / m-start-*em  ： 行頭のマージンを指定
m-end-auto    / m-end-0    / m-end-***per    / m-end-*em    ： 行末のマージンを指定
m-before-auto / m-before-0 / m-before-***per / m-before-*em ： 行前方のマージンを指定
m-after-auto  / m-after-0  / m-after-***per  / m-after-*em  ： 行後方のマージンを指定
```

例）四方のマージンを２文字分に

```
---------------------------------[sample code]---------------------------------
<div class="m-2em">
<p>テキスト</p>
</div>
-------------------------------------------------------------------------------
```

例）左右のマージンを３行分に（行高 1.75 の場合）

```
---------------------------------[sample code]---------------------------------
<div class="m-right-5em25 m-left-5em25">
<p>テキスト</p>
</div>
-------------------------------------------------------------------------------
```


### ・内側の余白（パディング）

#### 【CSS class】

```
class="p-*"
```

#### [値の詳細]

```
p-0 / p-***per / p-*em ： 四方のパディングを指定（ゼロ、％指定、文字数指定）

p-top-0    / p-top-***per    / p-top-*em    ： 画面上部のパディングを指定
p-bottom-0 / p-bottom-***per / p-bottom-*em ： 画面下部のパディングを指定
p-right-0  / p-right-***per  / p-right-*em  ： 画面右部のパディングを指定
p-left-0   / p-left-***per   / p-left-*em   ： 画面左部のパディングを指定

p-start-0  / p-start-***per  / p-start-*em  ： 行頭のパディングを指定
p-end-0    / p-end-***per    / p-end-*em    ： 行末のパディングを指定
p-before-0 / p-before-***per / p-before-*em ： 行前方のパディングを指定
p-after-0  / p-after-***per  / p-after-*em  ： 行後方のパディングを指定
```


例）四方のパディングを２文字分に

```
---------------------------------[sample code]---------------------------------
<div class="p-2em">
<p>テキスト</p>
</div>
-------------------------------------------------------------------------------
```


### ・サイズ

#### 【備考】

高さ、幅といった指定ではなく、行長方向と行幅方向でサイズ指定をするときは、固定値、最大値とも同じ要素内では同時に利用できないので注意してください（組み方向が変わるときに、もう片方のサイズをクリアしなくてはならないため）。縦組みと横組みでの切り替えを目的としない、また縦組みと横組みの混在を考慮しないのであれば、高さと幅でサイズ指定することを推奨します。

※以下のように入れ子とすることで、行長方向と行幅方向の同時指定そのものは可能です。
 ただし、行幅方向（ページ進行方向）の最大値指定は、まだ動作を期待せずナリユキとしたほうが無難です。

```
---------------------------------[sample code]---------------------------------
<div class="measure-10em">
<div class="extent-5em25">
<p>内容</p>
</div>
</div>
-------------------------------------------------------------------------------
```

#### 【CSS class】

```
class="height-*"
class="width-*"
class="measure-*"
class="extent-*"
class="max-height-*"
class="max-width-*"
class="max-measure-*"
class="max-extent-*"
class="max-size-*"
```

#### [値の詳細]

```
height-auto / height-***per / height-*em ： 高さを指定
width-auto  / width-***per  / width-*em  ： 幅を指定
measure-auto     / measure-***per     / measure-*em     ： 行長方向のサイズを指定
extent-auto      / extent-***per      / extent-*em      ： 行幅方向のサイズを指定
max-height-none  / max-height-***per  / max-height-*em  ： 高さを最大値で指定
max-width-none   / max-width-***per   / max-width-*em   ： 幅を最大値で指定
max-measure-none / max-measure-***per / max-measure-*em ： 行長方向のサイズを最大値で指定
max-extent-none  / max-extent-***per  / max-extent-*em  ： 行幅方向のサイズを最大値で指定
max-size-none    / max-size-***per    / max-size-*em    ： 高さと幅を同じ最大値で指定
```


例）高さ10文字分、幅５行分に（行高 1.75 の場合）

```
---------------------------------[sample code]---------------------------------
<div class="height-10em width-8em75">
<p>テキスト</p>
</div>
-------------------------------------------------------------------------------
```


## ■罫線

### ・囲み罫

#### 【備考】

ページフィット画像に指定すると、線の太さの分だけページから溢れてしまいます。
そのため、ページフィット画像への罫線は、囲み罫含め禁止とします。

#### 【CSS class】

```
class="k-solid"  ： 実線の囲み罫
class="k-dotted" ： 点線の囲み罫
class="k-double" ： 二重線の囲み罫
class="k-dashed" ： 破線の囲み罫

class="k-solid-black"  ： 実線の囲み罫（黒色）
class="k-solid-gray"   ： 実線の囲み罫（灰色）
class="k-solid-silver" ： 実線の囲み罫（銀色）
class="k-solid-white " ： 実線の囲み罫（白色）
```

例）インライン要素への囲み罫

```
---------------------------------[sample code]---------------------------------
<p>あいうえお<span class="k-solid">かきくけこ</span>さしすせそ</p>
-------------------------------------------------------------------------------
```

例）ブロック要素への囲み罫

```
---------------------------------[sample code]---------------------------------
<div class="k-solid">
<p>テキスト</p>
</div>
-------------------------------------------------------------------------------
```


### ・罫線

#### 【CSS class】

線種

```
class="k-solid-*"  ： 実線
class="k-dotted-*" ： 点線
class="k-double-*" ： 二重
class="k-dashed-*" ： 破線
```

#### [値の詳細]

```
※画面上/下/右/左/上下/左右
k-solid-top  / k-solid-bottom  / k-solid-right  / k-solid-left
/ k-solid-topbottom  / k-solid-rightleft
k-dotted-top / k-dotted-bottom / k-dotted-right / k-dotted-left
/ k-dotted-topbottom / k-dotted-rightleft
k-double-top / k-double-bottom / k-double-right / k-double-left
/ k-double-topbottom / k-double-rightleft
k-dashed-top / k-dashed-bottom / k-dashed-right / k-dashed-left
/ k-dashed-topbottom / k-dashed-rightleft
```

```
※行頭/行末/行前方/行後方/行頭末/行前後
k-solid-start  / k-solid-end  / k-solid-before  / k-solid-after
/ k-solid-startend  / k-solid-beforeafter
k-dotted-start / k-dotted-end / k-dotted-before / k-dotted-after
/ k-dotted-startend / k-dotted-beforeafter
k-double-start / k-double-end / k-double-before / k-double-after
/ k-double-startend / k-double-beforeafter
k-dashed-start / k-dashed-end / k-dashed-before / k-dashed-after
/ k-dashed-startend / k-dashed-beforeafter
```

線幅

```
class="k-*px"    ： 0.8px
class="k-thin"   ： 細線
class="k-medium" ： 中線
class="k-thick"  ： 太線
```

例）ブロック要素への左右罫線（4px）

```
---------------------------------[sample code]---------------------------------
<div class="k-solid-rightleft k-4px">
<p>テキスト</p>
</div>
-------------------------------------------------------------------------------
```



## ■ブロック要素の位置揃え

#### 【備考】

縦組みでは左右方向、横組みでは上下方向の位置揃えは機能しません。

#### 【CSS class】

```
class="block-align-left"   ： 【横組み用】画面の左側
class="block-align-center" ： 【横組み用】画面の左右中央
class="block-align-right"  ： 【横組み用】画面の右側

class="block-align-top"    ： 【縦組み用】画面の上側
class="block-align-middle" ： 【縦組み用】画面の天地中央
class="block-align-bottom" ： 【縦組み用】画面の下側

class="block-align-start"  ： 行頭側
class="block-align-center" ： 行中央
class="block-align-end"    ： 行末側
```

例）囲み罫つき高さ４文字分のボックスを、行末揃えに

```
---------------------------------[sample code]---------------------------------
<div class="height-4em k-solid block-align-end">
<p>テキスト</p>
</div>
-------------------------------------------------------------------------------
```


## ■同一ファイル内での改ページ

#### 【備考】

改ページは、端末の処理能力等に配慮する意味もあり、原則としてファイルを替えることで実現します。
ファイル数の増加を防ぐためなどの理由で、どうしても同一ファイル内で改ページしたい場合は、以下の指定を用いてください。
ただし、短い随筆やコラム的な文章の連続など、ファイル全体のスタイル指定の変更が不要で、かつ各ページの内容が少ないときに限ります。
なお、現時点では利用できる RS が限られているので、利用の際は対象とする RS の挙動をよく確認するようにしてください。

#### 【CSS class】

```
class="pagebreak"        ： 指定したブロックの直後で改ページ
class="pagebreak-before" ： 指定したブロックの直前で改ページ
class="pagebreak-both"   ： 指定したブロックの前後で改ページ
```

例）句集など１ページに１行しかないような場合に、同一ファイル内で改ページ

```
---------------------------------[sample code]---------------------------------
<div class="pagebreak">
<p>いろはにほへと ちりぬるを</p>
</div>
<div class="pagebreak">
<p>わかよたれそ つねならむ</p>
</div>
-------------------------------------------------------------------------------
```

## ■色指定

#### 【備考】

他の色で同じような使い方ができるクラスが必要な場合は、CSS に追記します。
詳細は、後述の「デフォルト CSS ファイルについて」を参照してください。。
なお、明るい黄色など一部の色が指定された部分は、モノクロ端末等で見えなくなる可能性があることに留意してください。


### ・文字色

#### 【CSS class】

※１Ｃ用文字色

```
class="color-black"       : { color: #000000; }
class="color-dimgray"     : { color: #696969; }
class="color-gray"        : { color: #808080; }
class="color-darkgray"    : { color: #a9a9a9; }
class="color-silver"      : { color: #c0c0c0; }
class="color-gainsboro"   : { color: #dcdcdc; }
class="color-white"       : { color: #ffffff; }
class="color-transparent" : { color: transparent; }
```

※基本色

```
class="color-red"         : { color: #ff0000; }
class="color-blue"        : { color: #0000ff; }
class="color-cyan"        : { color: #00ffff; }
class="color-magenta"     : { color: #ff00ff; }
class="color-orangered"   : { color: #ff4500; }
```

例）

```
---------------------------------[sample code]---------------------------------
<p><span class="color-silver">テキスト</span></p>

<div class="color-silver">
<p>テキスト</p>
<p>テキスト</p>
</div>
-------------------------------------------------------------------------------
```


### ・背景色

#### 【CSS class】

※１Ｃ用背景色

```
class="bg-black"       : { background-color: #000000; }
class="bg-dimgray"     : { background-color: #696969; }
class="bg-gray"        : { background-color: #808080; }
class="bg-darkgray"    : { background-color: #a9a9a9; }
class="bg-silver"      : { background-color: #c0c0c0; }
class="bg-gainsboro"   : { background-color: #dcdcdc; }
class="bg-white"       : { background-color: #ffffff; }
class="bg-transparent" : { background-color: transparent; }
```

※基本色

```
class="bg-red"         : { background-color: #ff0000; }
class="bg-blue"        : { background-color: #0000ff; }
class="bg-cyan"        : { background-color: #00ffff; }
class="bg-magenta"     : { background-color: #ff00ff; }
class="bg-orangered"   : { background-color: #ff4500; }
```

例）

```
---------------------------------[sample code]---------------------------------
<p><span class="bg-silver">テキスト</span></p>

<div class="bg-silver">
<p>テキスト</p>
<p>テキスト</p>
</div>
-------------------------------------------------------------------------------
```


### ・文字色反転（白黒反転）

#### 【CSS class】

```
class="inverse"
```

例）

```
---------------------------------[sample code]---------------------------------
<p><span class="inverse">テキスト</span></p>

<div class="inverse">
<p>テキスト</p>
<p>テキスト</p>
</div>
-------------------------------------------------------------------------------
```


### ・罫線色

#### 【CSS class】

※１Ｃ用罫線色

```
class="k-black"       : { border-color: #000000; }
class="k-dimgray"     : { border-color: #696969; }
class="k-gray"        : { border-color: #808080; }
class="k-darkgray"    : { border-color: #a9a9a9; }
class="k-silver"      : { border-color: #c0c0c0; }
class="k-gainsboro"   : { border-color: #dcdcdc; }
class="k-white"       : { border-color: #ffffff; }
class="k-transparent" : { border-color: transparent; }
```

※基本色

```
class="k-red"         : { border-color: #ff0000; }
class="k-blue"        : { border-color: #0000ff; }
class="k-cyan"        : { border-color: #00ffff; }
class="k-magenta"     : { border-color: #ff00ff; }
class="k-orangered"   : { border-color: #ff4500; }
```

例）赤い囲み罫

```
---------------------------------[sample code]---------------------------------
<p><span class="k-solid k-red">テキスト</span></p>

<div class="k-solid k-red">
<p>テキスト</p>
<p>テキスト</p>
</div>
-------------------------------------------------------------------------------
```


### ・リンク色

#### 【備考】

CSS ファイルの編集によりカスタマイズ可能です。
詳細は、後述の「デフォルト CSS ファイルについて」を参照してください。。



## 【参考情報】※本ガイドでは非推奨

## ■回り込み

#### 【備考】

WebKit 系など、clear と併用すると表示が大きく乱れる場合があるので、利用する際は対象 RS の挙動をよく確認すること。

#### 【CSS class】

```
class="float-none"        : 回り込みなし
class="float-start"       : 行頭方向に回り込み
class="float-end"         : 行末方向に回り込み
class="float-clear"       : 回り込み解除（ clear: both; ）
class="float-clear-start" : 行頭方向の回り込み解除
class="float-clear-end"   : 行末方向の回り込み解除
```

例）画像の行末側にテキストを回り込ませる（画像とテキストの間は１文字分アキ）

```
---------------------------------[sample code]---------------------------------
<p><img class="float-start m-end-1em" src="../image/img-001.jpg" alt=""/></p>
<p>テキスト</p>
-------------------------------------------------------------------------------
```

例）ブロック要素の行末側にテキストを回り込ませる（要素とテキストの間は１文字分アキ）

```
---------------------------------[sample code]---------------------------------
<div class="float-start m-end-1em">
<p><img src="../image/img-001.jpg" alt=""/></p>
<p>キャプション</p>
</div>
<p>テキスト</p>
-------------------------------------------------------------------------------
```
